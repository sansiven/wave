{"ast":null,"code":"var _jsxFileName = \"D:\\\\2077\\\\Waves\\\\client\\\\src\\\\components\\\\header_footer\\\\Header\\\\index.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { logoutUser } from '../../../actions/user_actions';\n\nclass Header extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      page: [{\n        name: \"Home\",\n        linkTo: '/',\n        public: true\n      }, {\n        name: \"Guitars\",\n        linkTo: '/shop',\n        public: true\n      }],\n      user: [{\n        name: \"My Cart\",\n        linkTo: '/user/cart',\n        public: false\n      }, {\n        name: \"My Account\",\n        linkTo: '/user/dashboard',\n        public: false\n      }, {\n        name: \"Log In\",\n        linkTo: '/register_login',\n        public: true\n      }, {\n        name: \"Log Out\",\n        linkTo: '/user/logout',\n        public: false\n      }]\n    };\n\n    this.logOutHandler = () => {\n      this.props.dispatch(logoutUser()).then(response => {\n        if (response.payload.success) {\n          this.props.history.push('/');\n        }\n      });\n    };\n\n    this.defaultLink = (item, i) => item.name === \"Log Out\" ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"log_out_link\",\n      key: i,\n      onClick: () => this.logOutHandler(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }, item.name) : /*#__PURE__*/React.createElement(Link, {\n      to: item.linkTo,\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }, item.name);\n\n    this.cartLink = (item, i) => {\n      const user = this.props.user.userData;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cart_link\",\n        key: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }\n      }, user.cart ? user.cart.length : 0), /*#__PURE__*/React.createElement(Link, {\n        to: item.linkTo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }\n      }, item.name));\n    };\n\n    this.showLinks = type => {\n      let list = [];\n\n      if (this.props.user.userData) {\n        type.forEach(item => {\n          if (!this.props.user.userData.isAuth) {\n            if (item.public) {\n              list.push(item);\n            }\n          } else {\n            if (item.name !== \"Log In\") {\n              list.push(item);\n            }\n          }\n        });\n      }\n\n      return list.map((item, i) => {\n        if (item.name !== \"My Cart\") {\n          return this.defaultLink(item, i);\n        } else {\n          return this.cartLink(item, i);\n        }\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"header\", {\n      className: \"bck_b_light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 25\n      }\n    }, \"WAVES\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 25\n      }\n    }, this.showLinks(this.state.user)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 25\n      }\n    }, this.showLinks(this.state.page)))));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n}\n\nexport default connect(mapStateToProps)(Header);","map":{"version":3,"sources":["D:/2077/Waves/client/src/components/header_footer/Header/index.js"],"names":["React","Component","Link","connect","logoutUser","Header","state","page","name","linkTo","public","user","logOutHandler","props","dispatch","then","response","payload","success","history","push","defaultLink","item","i","cartLink","userData","cart","length","showLinks","type","list","forEach","isAuth","map","render","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { logoutUser } from '../../../actions/user_actions';\r\n\r\nclass Header extends Component {\r\n\r\n\r\n    state = {\r\n        page: [\r\n            {\r\n                name: \"Home\",\r\n                linkTo: '/',\r\n                public: true\r\n            },\r\n            {\r\n                name: \"Guitars\",\r\n                linkTo: '/shop',\r\n                public: true\r\n            }\r\n        ], \r\n        user: [\r\n            {\r\n                name: \"My Cart\",\r\n                linkTo: '/user/cart',\r\n                public: false\r\n            },\r\n            {\r\n                name: \"My Account\",\r\n                linkTo: '/user/dashboard',\r\n                public: false\r\n            },\r\n            {\r\n                name: \"Log In\",\r\n                linkTo: '/register_login',\r\n                public: true\r\n            },\r\n            {\r\n                name: \"Log Out\",\r\n                linkTo: '/user/logout',\r\n                public: false\r\n            }\r\n        ]\r\n    }\r\n\r\n    logOutHandler = () => {\r\n        this.props.dispatch(logoutUser()).then(response => {\r\n            if(response.payload.success){\r\n                this.props.history.push('/')\r\n            }\r\n        })\r\n    }\r\n\r\n    defaultLink = ( item ,i ) => (\r\n        item.name === \"Log Out\" ? \r\n            <div className=\"log_out_link\"\r\n                key={i}\r\n                onClick={() => this.logOutHandler()}\r\n            >{item.name}</div>\r\n        :\r\n        <Link to={item.linkTo} key ={i}>\r\n            {item.name}\r\n        </Link>\r\n    )\r\n\r\n    cartLink = (item,i) => {\r\n        const user = this.props.user.userData\r\n        return (\r\n            <div className=\"cart_link\" key={i}>\r\n                <span>{user.cart ? user.cart.length : 0}</span>\r\n                <Link to={item.linkTo}>{item.name}</Link>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    showLinks = (type) => {\r\n        let list = [];\r\n        if(this.props.user.userData){\r\n            type.forEach(item => {\r\n                if(!this.props.user.userData.isAuth){\r\n                    if(item.public){\r\n                        list.push(item)\r\n                    }\r\n                }else{\r\n                    if(item.name !== \"Log In\"){\r\n                        list.push(item)\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        return list.map((item, i) => {\r\n            if(item.name  !== \"My Cart\"){\r\n                return this.defaultLink(item,i)\r\n            }else{\r\n                return this.cartLink(item,i)\r\n            }\r\n            \r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <header className=\"bck_b_light\">\r\n                <div className=\"container\">\r\n                    <div className=\"left\">\r\n                        <div className=\"logo\">\r\n                            WAVES\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"right\">\r\n                        <div className=\"top\">\r\n                            {this.showLinks(this.state.user)}\r\n                        </div>\r\n                        <div className=\"bottom\">\r\n                            {this.showLinks(this.state.page)}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </header>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n    return{\r\n        user : state.user\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Header);"]},"metadata":{},"sourceType":"module"}